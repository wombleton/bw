<template name="sheet">
    <div class="row-fluid">
        <div class="span12">
            {{#if setCharacterName}}
                <input type="text" class="mb0" name="name" value="{{name}}" autofocus="autofocus">
            {{else}}
                {{#if name}}
                    {{name}}
                {{else}}
                    No name
                {{/if}}
            {{/if}}
            {{#if owner}}
                <button data-action="setname" class="btn btn-small">
                    <i class="icon-cog"></i>
                </button>
            {{/if}}
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12{{#if owner}} owner{{/if}}">
            {{#each stats}}
                {{>stat}}
            {{/each}}
            {{#if owner}}
            <div class="form-inline">
                {{#if addStat}}
                    <input type="text" name="new-stat" data-provide="typeahead" data-source="{{{statList}}}" autocomplete="off" autofocus="autofocus">
                    <button data-action="add-stat" class="btn btn-primary">
                        <i class="icon-plus"></i>
                    </button>
                    <a data-action="done""btn" href>Done</a>
                {{else}}
                    <a data-action="add-skill" href>Add skill</a>
                {{/if}}
            </div>
            {{/if}}
        </div>
    </div>
</template>

<template name="stat">
<div class="stat">
        <b>{{label}}</b>
        {{#if editable}}
            <div class="form-inline mb0">
                {{>editableStat}}
                <button data-action="setstat" class="btn btn-primary">
                    <i class="icon-ok"></i>
                </button>
            </div>
        {{else}}
            {{shade}}{{exponent}}
        {{/if}}
    </div>
</template>

<template name="editableStat">
    {{#unless stat}}
        <label class="checkbox">
            <input type="checkbox" name="beginner">
            Beginner
        </label>
    {{/unless}}
    <select name="shade" class="span1">
        <option {{selected shade 'B'}} value="B">B</option>
        <option {{selected shade 'G'}} value="G">G</option>
        <option {{selected shade 'W'}} value="W">W</option>
    </select>
    <select name="exponent" class="span1">
        <option {{selected exponent 1}} value="1">1</option>
        <option {{selected exponent 2}} value="2">2</option>
        <option {{selected exponent 3}} value="3">3</option>
        <option {{selected exponent 4}} value="4">4</option>
        <option {{selected exponent 5}} value="5">5</option>
        <option {{selected exponent 6}} value="6">6</option>
        <option {{selected exponent 7}} value="7">7</option>
        <option {{selected exponent 8}} value="8">8</option>
        <option {{selected exponent 9}} value="9">9</option>
        <option {{selected exponent 10}} value="10">10</option>
    </select>
</template>
